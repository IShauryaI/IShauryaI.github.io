---
import { ExternalLink, Github, Calendar } from 'lucide-astro';

export interface Props {
  title: string;
  description: string;
  image?: string;
  tags: string[];
  liveUrl?: string;
  githubUrl?: string;
  date?: string;
  featured?: boolean;
}

const {
  title,
  description,
  image = '/placeholder-project.jpg',
  tags,
  liveUrl,
  githubUrl,
  date,
  featured = false,
} = Astro.props;
---

<div class={`group relative bg-white dark:bg-dark-800 rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-2 ${
  featured ? 'ring-2 ring-primary-500 shadow-primary-500/20' : ''
}`}>
  {featured && (
    <div class="absolute top-4 left-4 z-10 bg-primary-600 text-white px-3 py-1 rounded-full text-sm font-medium">
      Featured
    </div>
  )}
  
  <!-- Project Image -->
  <div class="relative overflow-hidden bg-gray-100 dark:bg-dark-700">
    <img 
      src={image} 
      alt={title}
      class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-500"
      loading="lazy"
    />
    <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
  </div>
  
  <div class="p-6">
    <!-- Title & Date -->
    <div class="flex items-start justify-between mb-3">
      <h3 class="text-xl font-bold text-dark-900 dark:text-white group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors">
        {title}
      </h3>
      {date && (
        <div class="flex items-center text-sm text-dark-500 dark:text-gray-400">
          <Calendar class="w-4 h-4 mr-1" />
          {date}
        </div>
      )}
    </div>
    
    <!-- Description -->
    <p class="text-dark-600 dark:text-gray-300 mb-4 line-clamp-3">
      {description}
    </p>
    
    <!-- Tags -->
    <div class="flex flex-wrap gap-2 mb-4">
      {tags.map((tag) => (
        <span class="inline-block px-3 py-1 bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 text-sm rounded-full font-medium">
          {tag}
        </span>
      ))}
    </div>
    
    <!-- Links -->
    <div class="flex items-center space-x-4">
      {liveUrl && (
        <a 
          href={liveUrl} 
          target="_blank" 
          rel="noopener noreferrer" 
          class="inline-flex items-center text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-medium transition-colors"
        >
          <ExternalLink class="w-4 h-4 mr-2" />
          Live Demo
        </a>
      )}
      {githubUrl && (
        <a 
          href={githubUrl} 
          target="_blank" 
          rel="noopener noreferrer" 
          class="inline-flex items-center text-dark-600 dark:text-gray-400 hover:text-dark-800 dark:hover:text-gray-200 font-medium transition-colors"
        >
          <Github class="w-4 h-4 mr-2" />
          Code
        </a>
      )}
    </div>
  </div>
</div>

<style>
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>